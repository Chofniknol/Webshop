import{a as It}from"./chunk-4Q3OMUHC.js";import{$ as T,A as gt,B as p,C as x,Ca as Mt,D as C,Da as wt,E as ft,Ea as Ft,F as ht,Fa as Et,Ga as Dt,Ha as Nt,I as _,Ia as Ut,J as vt,Ja as Tt,K as xt,L as Ct,M as bt,N as zt,Na as kt,R as yt,S as St,U as E,V as nt,X as lt,Y as g,Z as U,_ as S,a as mt,aa as k,ba as A,c as z,d as y,da as R,e as J,ea as j,f as tt,fa as b,g as Y,ga as Ot,h,ha as _t,i as et,ia as Pt,j as W,ja as f,k as K,ka as B,l as it,m as s,ma as V,n as l,na as $,o as c,p as O,pa as P,q as n,qa as I,r as a,s as u,ta as ot,ua as H,v as rt,va as at,w as v,wa as L,x as N,y as ct,ya as q,z as ut}from"./chunk-OT7LPB2V.js";var D=(()=>{let i=class i{constructor(t,e){this.router=t,this.notification=e}canActivate(t,e){return g.isAdminLoggedIn()?(this.router.navigateByUrl("/admin/dashboard"),this.notification.error("ERROR","You don't have access of this page!!!",{nzDuration:5e3}),!1):g.hasToken()?!0:(g.signOut(),this.router.navigateByUrl("/login"),this.notification.error("ERROR","You Are Not LoggedIn. Please Login First!!!",{nzDuration:5e3}),!1)}};i.\u0275fac=function(e){return new(e||i)(Y(E),Y(f))},i.\u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();var M=Pt.BASIC_URL,w=(()=>{let i=class i{constructor(t){this.http=t}getCategoriesByTitle(t){return this.http.get(M+`api/user/search/${t}`,{headers:this.createAuthorizationHeader()}).pipe(y(e=>this.log("Category fetched successfully")),z(this.handleError("Error getting Category",[])))}getProductByCategoryId(t){return this.http.get(M+`api/user/products/${t}`,{headers:this.createAuthorizationHeader()}).pipe(y(e=>this.log("Product fetched successfully")),z(this.handleError("Error getting product",[])))}getAllProducts(){return this.http.get(M+"api/user/products",{headers:this.createAuthorizationHeader()}).pipe(y(t=>this.log("Products fetched successfully")),z(this.handleError("Error getting Products",[])))}getAllCategories(){return this.http.get(M+"api/user/categories",{headers:this.createAuthorizationHeader()}).pipe(y(t=>this.log("Categories fetched successfully")),z(this.handleError("Error getting Categories",[])))}getCartByUserId(){return this.http.get(M+`api/user/cart/${g.getUserId()}`,{headers:this.createAuthorizationHeader()}).pipe(y(t=>this.log("Cart fetched successfully")),z(this.handleError("Error getting Cart",[])))}addToCart(t){let e={productId:t,userId:g.getUserId()};return this.http.post(M+"api/user/cart",e,{headers:this.createAuthorizationHeader()}).pipe(y(o=>this.log("Product Added to Cart successfully")),z(this.handleError("Error adding Product to Carrt",[])))}addMinusOnProduct(t){let e={userId:g.getUserId(),productId:t};return this.http.post(M+"api/user/deduction",e,{headers:this.createAuthorizationHeader()}).pipe(y(o=>this.log("Remove Product from Order successfully")),z(this.handleError("Error removing Product from Order",[])))}addPlusOnProduct(t){let e={userId:g.getUserId(),productId:t};return this.http.post(M+"api/user/addition",e,{headers:this.createAuthorizationHeader()}).pipe(y(o=>this.log("Added Product into Order successfully")),z(this.handleError("Error adding Product to Order",[])))}placeOrder(t){return t.userId=g.getUserId(),this.http.post(M+"api/user/placeOrder",t,{headers:this.createAuthorizationHeader()}).pipe(y(e=>this.log("Order placed successfully")),z(this.handleError("Error placing Order",[])))}getMyOrdersByUserId(){return this.http.get(M+`api/user/myOrders/${g.getUserId()}`,{headers:this.createAuthorizationHeader()}).pipe(y(t=>this.log("My Orders fetched successfully")),z(this.handleError("Error getting My Orders",[])))}createAuthorizationHeader(){return new bt().set("Authorization","Bearer "+g.getToken())}log(t){console.log(`User Auth Service: ${t}`)}handleError(t="operation",e){return o=>(console.error(o),this.log(`${t} failed: ${o.message}`),mt(e))}};i.\u0275fac=function(e){return new(e||i)(Y(zt))},i.\u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"});let r=i;return r})();function Kt(r,i){if(r&1){let d=rt();n(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),p(4),a(),u(5,"hr"),n(6,"h5"),p(7),a(),n(8,"p"),p(9),a(),n(10,"div")(11,"button",8),v("click",function(){let o=W(d).$implicit,m=N();return K(m.minusProduct(o.productId))}),p(12,"Minus"),a(),n(13,"button",9),v("click",function(){let o=W(d).$implicit,m=N();return K(m.plusProduct(o.productId))}),p(14,"Plus"),a()()()()()}if(r&2){let d=i.$implicit;s(4),C(" ",d.productName,""),s(3),C("Price: $",d.price,",- "),s(2),C("Quantity : ",d.quantity,""),s(2),c("disabled",d.quantity==1)}}function Qt(r,i){if(r&1&&(n(0,"div",10)(1,"H1"),p(2),a(),n(3,"button",11),p(4,"Place Order"),a()()),r&2){let d=N();s(2),C("Total Bill: $",d.totalAmount,",-")}}var At=(()=>{let i=class i{constructor(t,e,o){this.userService=t,this.notification=e,this.fb=o,this.CartProducts=[],this.isSpinning=!1,this.size="large"}ngOnInit(){this.getCart(),this.validateForm=this.fb.group({})}getCart(){this.isSpinning=!0,this.userService.getCartByUserId().subscribe(t=>{this.CartProducts=t.data.cartItems,this.totalAmount=t.data.amount,this.quantity=t.data.cartItems.quantity,console.log(t)})}minusProduct(t){this.isSpinning=!0,this.userService.addMinusOnProduct(t).subscribe(e=>{console.log(e),e.status=="OK"?(this.notification.success("SUCCESS","Decreased",{nzDuration:5e3}),this.getCart()):this.notification.error("ERROR",`${e.message}`,{nzDuration:5e3})})}plusProduct(t){this.isSpinning=!0,this.userService.addPlusOnProduct(t).subscribe(e=>{console.log(e),e.status=="OK"?(this.notification.success("SUCCESS","Incresed",{nzDuration:5e3}),this.getCart()):this.notification.error("ERROR",`${e.message}`,{nzDuration:5e3})})}};i.\u0275fac=function(e){return new(e||i)(l(w),l(f),l(b))},i.\u0275cmp=h({type:i,selectors:[["app-cart"]],decls:4,vars:2,consts:[[2,"background-color","#F8F8F8","min-height","91vh"],[2,"padding-top","10px"],["style","margin-top:10px;","class","child",4,"ngFor","ngForOf"],["class","place-order",4,"ngIf"],[1,"child",2,"margin-top","10px"],["nz-row",""],["nz-col","","nzSpan","16"],[2,"cursor","pointer","color","#108ee9"],[3,"disabled","click"],[3,"click"],[1,"place-order"],["routerLink","/user/place-order"]],template:function(e,o){e&1&&(n(0,"div",0),u(1,"div",1),O(2,Kt,15,4,"div",2)(3,Qt,5,1,"div",3),a()),e&2&&(s(2),c("ngForOf",o.CartProducts),s(1),c("ngIf",o.CartProducts))},dependencies:[_,vt,nt,I,P],styles:[".child[_ngcontent-%COMP%]{padding:20px;width:400px;background-color:#fff;background:white;box-shadow:1px 1px 15px -7px #0000001a;border-radius:5px;margin-left:auto;margin-right:auto;// padding-bottom: 10px}.row[_ngcontent-%COMP%]{padding:30px;width:500px;background-color:#fff;background:white;// box-shadow: 1px 1px 15px -7px rgba(0,0,0,.1);border-radius:5px;margin-left:auto;margin-right:auto;margin-top:20px}i[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.vertical-center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}tr[_ngcontent-%COMP%]{padding:0 5px;margin-bottom:0}p[_ngcontent-%COMP%]{margin-bottom:0}hr[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}h2[_ngcontent-%COMP%]:hover{text-decoration-line:underline}.pagination[_ngcontent-%COMP%]{width:780px;border-radius:5px;margin-left:auto;margin-right:auto;padding-bottom:20px;margin-top:20px}button[_ngcontent-%COMP%]{outline:0;border:0;background:none;border:1px solid #d9d9d9;padding:8px 0;color:#515151;text-transform:uppercase;width:125px;font-family:inherit;margin-right:5px;transition:all .3s ease;font-weight:500}button[_ngcontent-%COMP%]:hover{// background: darken(white,2%);border:1px solid #aedaa6;color:#aedaa6;cursor:pointer}.place-order[_ngcontent-%COMP%]{margin:2%;background:#dead4a;padding:1%;width:20%}"]});let r=i;return r})();function Zt(r,i){if(r&1&&(n(0,"tr")(1,"td"),p(2),a(),n(3,"td",5),p(4),a(),n(5,"td"),p(6),a(),n(7,"td"),p(8),a(),n(9,"td"),p(10),a(),n(11,"td"),p(12),ft(13,"date"),a()()),r&2){let d=i.$implicit;s(2),x(d.id),s(2),x(d.amount),s(2),x(d.orderDescription),s(2),x(d.payment),s(2),x(d.address),s(2),x(ht(13,6,d.date,"dd/MM/yyyy"))}}var jt=(()=>{let i=class i{constructor(t,e,o,m){this.userService=t,this.notification=e,this.fb=o,this.router=m,this.isSpinning=!1,this.size="large"}ngOnInit(){this.validateForm=this.fb.group({}),this.getMyOrdersByUserId()}getMyOrdersByUserId(){this.userService.getMyOrdersByUserId().subscribe(t=>{this.MyOrders=t.data,console.log(t)})}};i.\u0275fac=function(e){return new(e||i)(l(w),l(f),l(b),l(E))},i.\u0275cmp=h({type:i,selectors:[["app-my-orders"]],decls:19,vars:6,consts:[["nzTip","Working...",3,"nzSpinning","nzSize"],[3,"nzData","nzPageSize","nzShowPagination"],["basicTable",""],[2,"font-weight","bolder","color","#003973"],[4,"ngFor","ngForOf"],[2,"font-weight","600"]],template:function(e,o){if(e&1&&(n(0,"nz-spin",0)(1,"nz-table",1,2)(3,"thead")(4,"tr")(5,"th",3),p(6,"ID"),a(),n(7,"th",3),p(8,"Amount"),a(),n(9,"th",3),p(10,"Description"),a(),n(11,"th",3),p(12,"Payment"),a(),n(13,"th",3),p(14,"Adsress"),a(),n(15,"th",3),p(16,"Date"),a()()(),n(17,"tbody"),O(18,Zt,14,9,"tr",4),a()()()),e&2){let m=gt(2);c("nzSpinning",o.isSpinning)("nzSize","large"),s(1),c("nzData",o.MyOrders)("nzPageSize",20)("nzShowPagination","false"),s(17),c("ngForOf",m.data)}},dependencies:[_,q,Nt,Ft,Et,Tt,Dt,Ut,xt]});let r=i;return r})();function Jt(r,i){if(r&1&&u(0,"nz-option",15),r&2){let d=i.$implicit;ct("nzLabel",d),ct("nzValue",d)}}var qt=(()=>{let i=class i{constructor(t,e,o,m){this.userService=t,this.notification=e,this.fb=o,this.router=m,this.Payment=["Cash","Card"],this.isSpinning=!1,this.size="large"}ngOnInit(){this.validateForm=this.fb.group({address:[null,[S.required]],orderDescription:[null,[S.required]],payment:[null,[S.required]]})}placeOrder(){this.isSpinning=!0,this.userService.placeOrder(this.validateForm.value).subscribe(t=>{console.log(t),t.status=="CREATED"?(this.notification.success("SUCCESS","Order placed successfully.",{nzDuration:5e3}),this.isSpinning=!1,this.router.navigateByUrl("/user/my-orders")):this.notification.error("ERROR",`${t.message}`,{nzDuration:5e3})})}};i.\u0275fac=function(e){return new(e||i)(l(w),l(f),l(b),l(E))},i.\u0275cmp=h({type:i,selectors:[["app-place-order"]],decls:24,vars:8,consts:[[2,"margin-top","50px"],["nzTip","Working...",3,"nzSpinning","nzSize"],[1,"parent"],[1,"child"],["nz-row","",1,"imgDiv"],[2,"margin-left","230px"],["nz-form","",3,"formGroup","ngSubmit"],["nz-row",""],["nz-col","","nzSpan","24"],["nzHasFeedback","","nzErrorTip","This Input Is Required!",3,"nzXs"],["nz-input","","placeholder","Address","formControlName","address"],["rows","1","nz-input","","placeholder","Description","formControlName","orderDescription"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Payment Mathod","formControlName","payment"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType"],[3,"nzLabel","nzValue"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"nz-spin",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),p(6,"Order Details"),a()(),n(7,"form",6),v("ngSubmit",function(){return o.placeOrder()}),n(8,"div",7)(9,"div",8)(10,"nz-form-item")(11,"nz-form-control",9),u(12,"input",10),a()()(),n(13,"div",8)(14,"nz-form-item")(15,"nz-form-control",9),u(16,"textarea",11),a()()(),n(17,"div",8)(18,"nz-form-item")(19,"nz-form-control",9)(20,"nz-select",12),O(21,Jt,1,2,"nz-option",13),a()()()()(),n(22,"button",14),p(23,"Place"),a()()()()()()),e&2&&(s(1),c("nzSpinning",o.isSpinning)("nzSize","large"),s(6),c("formGroup",o.validateForm),s(4),c("nzXs",24),s(4),c("nzXs",24),s(4),c("nzXs",24),s(2),c("ngForOf",o.Payment),s(1),c("nzType","primary"))},dependencies:[_,A,U,T,k,$,B,V,I,P,H,ot,at,L,Mt,wt,q,R,j],styles:["[nz-form][_ngcontent-%COMP%]{max-width:800px}.phone-select[_ngcontent-%COMP%]{width:70px}.register-are[_ngcontent-%COMP%]{margin-bottom:8px}.child[_ngcontent-%COMP%]{padding:50px;position:absolute;width:680px;background-color:#fff;top:20%;left:50%;transform:translate(-50%,-50%);background:white;box-shadow:1px 1px 15px -7px #0000001a;border-radius:5px;margin-bottom:22px}nz-form-control[_ngcontent-%COMP%]{min-width:280px}.parent[_ngcontent-%COMP%]{width:100%;min-height:121vh;position:relative}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background-color:#001529;border:none}.imgDiv[_ngcontent-%COMP%]{width:100%;// margin-top: -50px;vertical-align:middle}.profile-badge[_ngcontent-%COMP%]{height:180px;display:flex;align-items:center;flex-direction:column;align-items:flex-start;margin:auto}@media only screen and (max-width: 600px){.profile-badge[_ngcontent-%COMP%]{margin-left:0}}.profile[_ngcontent-%COMP%]{height:180px;margin-bottom:5px;object-fit:cover}#upload_profile_image[_ngcontent-%COMP%]{display:none}#add_img_icon[_ngcontent-%COMP%]{width:70px;height:35px;position:relative;left:118px;top:-42px}"]});let r=i;return r})();function te(r,i){if(r&1){let d=rt();n(0,"div",3)(1,"div",4)(2,"div",5),u(3,"img",6),a(),n(4,"div",7)(5,"h2"),p(6),a(),u(7,"hr",8),n(8,"p"),p(9),a(),n(10,"h5"),p(11),a(),n(12,"h5"),p(13),a(),n(14,"h5"),p(15),a(),n(16,"h5"),p(17),a(),n(18,"div",9)(19,"button",10),v("click",function(){let o=W(d).$implicit,m=N();return K(m.addToCart(o.id))}),p(20,"Add to Cart"),a()()()()()}if(r&2){let d=i.$implicit;s(3),c("src",d.processedImg,it),s(3),x(d.name),s(3),x(d.description),s(2),C("price: $ ",d.price,",-"),s(2),C("rating: (",d.rating,"/5)"),s(2),C("Products left: ",d.availableQuantity,""),s(2),C("From catagory: ",d.categoryName," ")}}var Gt=(()=>{let i=class i{constructor(t,e,o,m){this.userService=t,this.notification=e,this.fb=o,this.activatedroute=m,this.products=[],this.categoryId=this.activatedroute.snapshot.params.categoryId,this.isSpinning=!1,this.size="large"}ngOnInit(){this.validateForm=this.fb.group({title:[null,[S.required]]}),this.getProductByCategoryId()}getProductByCategoryId(){this.isSpinning=!0,this.userService.getProductByCategoryId(this.categoryId).subscribe(t=>{t.data.forEach(e=>{e.processedImg="data:image/jpeg;base64,"+e.returnedImg,this.products.push(e),this.isSpinning=!1}),console.log(t)})}addToCart(t){this.userService.addToCart(t).subscribe(e=>{e.status=="CREATED"?this.notification.success("SUCCESS","Product Added to Cart Successfully!",{nzDuration:5e3}):this.notification.error("ERROR",`${e.message}`,{nzDuration:5e3})})}};i.\u0275fac=function(e){return new(e||i)(l(w),l(f),l(b),l(St))},i.\u0275cmp=h({type:i,selectors:[["app-products-by-category"]],decls:3,vars:1,consts:[[2,"background-color","#F8F8F8","min-height","91vh"],[2,"padding-top","10px"],["style","margin-top:10px;","class","child",4,"ngFor","ngForOf"],[1,"child",2,"margin-top","10px"],["nz-row",""],["nz-col","","nzSpan","8"],["alt","profile",1,"profile",3,"src"],["nz-col","","nzSpan","16",1,"description-container"],[2,"color","#515151"],[1,"button-container",2,"float","right"],[3,"click"]],template:function(e,o){e&1&&(n(0,"div",0),u(1,"div",1),O(2,te,21,7,"div",2),a()),e&2&&(s(2),c("ngForOf",o.products))},dependencies:[_,I,P],styles:[".child[_ngcontent-%COMP%]{padding:20px;width:780px;background-color:#fff;background:white;box-shadow:1px 1px 15px -7px #0000001a;border-radius:5px;margin-left:auto;margin-right:auto;// padding-bottom: 10px}.row[_ngcontent-%COMP%]{padding:30px;width:780px;background-color:#fff;background:white;// box-shadow: 1px 1px 15px -7px rgba(0,0,0,.1);border-radius:5px;margin-left:auto;margin-right:auto;margin-top:20px}i[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.vertical-center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}tr[_ngcontent-%COMP%]{padding:0 5px;margin-bottom:0}p[_ngcontent-%COMP%]{margin-bottom:0}hr[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}h2[_ngcontent-%COMP%]:hover{text-decoration-line:underline}.pagination[_ngcontent-%COMP%]{width:780px;border-radius:5px;margin-left:auto;margin-right:auto;padding-bottom:20px;margin-top:20px}.profile[_ngcontent-%COMP%]{width:100%;height:auto}.description-container[_ngcontent-%COMP%]{padding-left:5%;border-left-width:2px;border-left-color:#34373c}.button-container[_ngcontent-%COMP%]{border-left-width:2px;border-left-color:#34373c}button[_ngcontent-%COMP%]{outline:0;border:0;background:none;border:1px solid #d9d9d9;padding:8px 0;margin-bottom:30px;color:#515151;text-transform:uppercase;width:125px;font-family:inherit;margin-right:5px;transition:all .3s ease;font-weight:500}button[_ngcontent-%COMP%]:hover{// background: darken(white,2%);border:1px solid #aedaa6;color:#aedaa6;cursor:pointer}"]});let r=i;return r})();function ee(r,i){if(r&1&&(n(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2",9),p(4),a(),n(5,"p"),p(6),a(),n(7,"div",10)(8,"button",11),p(9,"View Products"),a()()()()()),r&2){let d=i.$implicit;s(4),C(" ",d.name,""),s(2),x(d.description),s(2),ut("routerLink","/user/products/",d.id,"")}}var Xt=(()=>{let i=class i{constructor(t,e,o){this.userService=t,this.notification=e,this.fb=o,this.categories=[],this.isSpinning=!1,this.size="large"}ngOnInit(){this.validateForm=this.fb.group({title:[null,[S.required]]}),this.getAllCategories()}submitForm(){this.isSpinning=!0,this.userService.getCategoriesByTitle(this.validateForm.get(["title"]).value).subscribe(t=>{this.categories=t.data,console.log(t)})}getAllCategories(){this.isSpinning=!0,this.userService.getAllCategories().subscribe(t=>{this.categories=t.data,console.log(t)})}addToCart(t){this.userService.addToCart(t).subscribe(e=>{e.status=="CREATED"?this.notification.success("SUCCESS","Product Added to Cart Successfully!",{nzDuration:5e3}):this.notification.error("ERROR",`${e.message}`,{nzDuration:5e3})})}};i.\u0275fac=function(e){return new(e||i)(l(w),l(f),l(b))},i.\u0275cmp=h({type:i,selectors:[["app-user-dashboard"]],decls:7,vars:4,consts:[["nz-form","",2,"margin-top","20px","text-align","center",3,"formGroup","submit"],["nz-input","","placeholder","Enter Keyword to search","nzSize","large","formControlName","title",2,"width","20%"],["nz-button","","nzType","primary",2,"margin-left","15px",3,"nzSize","disabled"],[2,"background-color","#F8F8F8","min-height","91vh"],[2,"padding-top","10px"],["style","margin-top:10px;","class","child",4,"ngFor","ngForOf"],[1,"child",2,"margin-top","10px"],["nz-row",""],["nz-col","","nzSpan","16"],[1,"product-title"],[2,"float","right"],["nzSize","small","nz-button","","nzType","primary","nzDanger","",2,"margin-left","10px",3,"routerLink"]],template:function(e,o){e&1&&(n(0,"form",0),v("submit",function(){return o.submitForm()}),u(1,"input",1),n(2,"button",2),p(3,"Search Product"),a()(),n(4,"div",3),u(5,"div",4),O(6,ee,10,3,"div",5),a()),e&2&&(c("formGroup",o.validateForm),s(2),c("nzSize",o.size)("disabled",o.validateForm.invalid),s(4),c("ngForOf",o.categories))},dependencies:[_,A,U,T,k,nt,$,B,V,I,P,H,L,R,j],styles:[".child[_ngcontent-%COMP%]{padding:20px;width:780px;background-color:#fff;background:white;box-shadow:1px 1px 15px -7px #0000001a;border-radius:5px;margin-left:auto;margin-right:auto;// padding-bottom: 10px}.row[_ngcontent-%COMP%]{padding:30px;width:780px;background-color:#fff;background:white;// box-shadow: 1px 1px 15px -7px rgba(0,0,0,.1);border-radius:5px;margin-left:auto;margin-right:auto;margin-top:20px}i[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.vertical-center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%)}tr[_ngcontent-%COMP%]{padding:0 5px;margin-bottom:0}p[_ngcontent-%COMP%]{background-color:#74d06d3b;font-family:Arial;color:gray}hr[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}h2[_ngcontent-%COMP%]:hover{text-decoration-line:underline}.pagination[_ngcontent-%COMP%]{width:780px;border-radius:5px;margin-left:auto;margin-right:auto;padding-bottom:20px;margin-top:20px}.product-title[_ngcontent-%COMP%]{font-size:28px;color:#345;text-align:left;border-bottom:2px solid #ccc;padding:10px;margin-bottom:20px}"]});let r=i;return r})();var Yt=(()=>{let i=class i{constructor(t,e,o,m,dt){this.fb=t,this.notification=e,this.router=o,this.authService=m,this.sanitizer=dt,this.avatarUrl="../../../../assets/user-avatar.png",this.isSpinning=!1,this.listOfOption=[],this.listOfTagOptions=[]}getCaptcha(t){t.preventDefault()}ngOnInit(){this.validateForm=this.fb.group({name:[null,[S.required]],email:[null,[S.required]]}),this.getUserData()}getUserData(){this.authService.getUserById().subscribe(t=>{this.validateForm.patchValue(t.data),t.data.returnedImg!=null&&(this.objectURL="data:image/png;base64,"+t.data.returnedImg,this.avatarUrl=this.sanitizer.bypassSecurityTrustUrl(this.objectURL))})}submitForm(){if(console.log(this.avatarUrl),this.avatarUrl!=this.objectURL)if(this.validateForm.valid){console.log("In function"),this.isSpinning=!0;let t=new FormData;t.append("img",this.currentFileUpload),t.append("name",this.validateForm.get("name").value),t.append("id",g.getUserId()),console.log(t),this.authService.updateUser(t).subscribe(e=>{this.isSpinning=!1,e.status=="CREATED"?(this.notification.success("SUCCESS","Profile Updated Successfully!!!",{nzDuration:5e3}),this.router.navigateByUrl("/user/dashboard")):this.notification.error("ERROR",`${e.message}`,{nzDuration:5e3})})}else for(let t in this.validateForm.controls)this.validateForm.controls[t].markAsDirty(),this.validateForm.controls[t].updateValueAndValidity();else this.notification.error("ERROR","Please Select An Img",{nzDuration:5e3})}uploadProfileImage(t){let e=t.target;if(!e.files?.length)return;let o=e.files[0];this.currentFileUpload=o,alert("File is here : "+this.currentFileUpload)}uploadFile(t){let e=t.target;if(this.myFile=e.files,!!e.files?.length){this.currentFileUpload=e.files[0];var o=new FileReader;o.readAsDataURL(this.currentFileUpload),o.onload=m=>{this.avatarUrl=o.result}}}};i.\u0275fac=function(e){return new(e||i)(l(b),l(f),l(E),l(It),l(yt))},i.\u0275cmp=h({type:i,selectors:[["app-user-profile"]],decls:26,vars:11,consts:[[2,"background-color","#F8F8F8"],["nzTip","Working...",3,"nzSpinning","nzSize"],[1,"parent"],[1,"child"],["nz-row","",1,"imgDiv"],["nz-form","",3,"formGroup","ngSubmit"],["nz-row",""],["nz-col","",3,"nzMd","nzSm","nzXs"],[1,"profile-badge"],["alt","profile",1,"profile",3,"src"],["type","file","nz-button","","nzType","primary","id","upload_profile_image","accept","image/x-png,image/gif,image/jpeg",3,"change"],["for","upload_profile_image"],["id","add_img_icon","src","../../../../assets/add_icon.png",1,"upload-icon"],["nz-button","","nzShape","circle"],["nz-col","","nzSpan","24",2,"margin-top","20px"],["nzHasFeedback","","nzErrorTip","This Input Is Required!",3,"nzXs"],["nz-input","","placeholder","Name","formControlName","name"],["nz-col","","nzSpan","24"],["nz-input","","placeholder","Email","formControlName","email",3,"disabled"],["nz-button","",1,"login-form-button","login-form-margin",3,"nzType"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"nz-spin",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2"),p(6,"User Profile"),a()(),n(7,"form",5),v("ngSubmit",function(){return o.submitForm()}),n(8,"div",6)(9,"div",7)(10,"div",8),u(11,"img",9),n(12,"input",10),v("change",function(dt){return o.uploadFile(dt)}),a(),n(13,"label",11),u(14,"img",12),a(),u(15,"button",13),a()(),n(16,"div",14)(17,"nz-form-item")(18,"nz-form-control",15),u(19,"input",16),a()()(),n(20,"div",17)(21,"nz-form-item")(22,"nz-form-control",15),u(23,"input",18),a()()()(),n(24,"button",19),p(25,"Update Profile"),a()()()()()()),e&2&&(s(1),c("nzSpinning",o.isSpinning)("nzSize","large"),s(6),c("formGroup",o.validateForm),s(2),c("nzMd",24)("nzSm",24)("nzXs",24),s(2),c("src",o.avatarUrl,it),s(7),c("nzXs",24),s(4),c("nzXs",24),s(1),c("disabled",!0),s(1),c("nzType","primary"))},dependencies:[A,U,T,k,$,B,V,I,P,H,ot,at,L,q,R,j],styles:["[nz-form][_ngcontent-%COMP%]{max-width:800px}.phone-select[_ngcontent-%COMP%]{width:70px}.register-are[_ngcontent-%COMP%]{margin-bottom:8px}.child[_ngcontent-%COMP%]{padding:50px;position:absolute;width:680px;background-color:#fff;top:50%;left:50%;transform:translate(-50%,-50%);background:white;box-shadow:1px 1px 15px -7px #0000001a;border-radius:5px;margin-bottom:22px}nz-form-control[_ngcontent-%COMP%]{min-width:280px}.parent[_ngcontent-%COMP%]{width:100%;min-height:91vh;position:relative}.login-form-margin[_ngcontent-%COMP%]{margin-bottom:16px}.login-form-forgot[_ngcontent-%COMP%]{float:right}.login-form-button[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background-color:#001529;border:none}.imgDiv[_ngcontent-%COMP%]{width:100%;// margin-top: -50px;vertical-align:middle;border-radius:100%!important}.profile-badge[_ngcontent-%COMP%]{height:180px;display:flex;align-items:center;flex-direction:column;align-items:flex-start;margin:auto;border-radius:100%!important}@media only screen and (max-width: 600px){.profile-badge[_ngcontent-%COMP%]{margin-left:0}}.profile[_ngcontent-%COMP%]{height:180px;margin-bottom:5px;object-fit:cover;border-radius:100%!important}#upload_profile_image[_ngcontent-%COMP%]{display:none}#add_img_icon[_ngcontent-%COMP%]{width:70px;height:35px;position:relative;left:118px;top:-42px}"]});let r=i;return r})();var ie=[{path:"dashboard",component:Xt,canActivate:[D]},{path:"profile",component:Yt,canActivate:[D]},{path:"cart",component:At,canActivate:[D]},{path:"my-orders",component:jt,canActivate:[D]},{path:"place-order",component:qt,canActivate:[D]},{path:"products/:categoryId",component:Gt,canActivate:[D]}],Wt=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=et({type:i}),i.\u0275inj=tt({imports:[lt.forChild(ie),lt]});let r=i;return r})();var Je=(()=>{let i=class i{};i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=et({type:i}),i.\u0275inj=tt({imports:[Ct,Ot,Wt,kt,_t]});let r=i;return r})();export{Je as UserModule};
